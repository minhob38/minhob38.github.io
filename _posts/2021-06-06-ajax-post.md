---
title: "AJAX"
categories: 
  - programming
date: 2021-06-06 01:00:00 +0900
last_modified_at: 2021-06-06 01:00:00 +0900
---

## AJAX
ê¸°ì¡´ì—ëŠ” í´ë¼ì´ì–¸íŠ¸ê°€ ìš”ì²­ì„ í•˜ë©´ ê¸°ì¡´ ì—°ê²°(í˜„ìž¬ íŽ˜ì´ì§€)ì´ ëŠê¸°ê³  ì„œë²„ê°€ ì‘ë‹µì²˜ë¦¬ë¥¼ í•©ë‹ˆë‹¤. ë”°ë¼ì„œ ì„œë²„ì— ìš”ì²­í• ë•Œë§ˆë‹¤ ì‘ë‹µì„ ìƒˆë¡œ ë°›ê¸°ë•Œë¬¸ì— í˜„ìž¬ íŽ˜ì´ì§€ê°€ ìƒˆë¡œê³ ì¹¨ë©ë‹ˆë‹¤. ì´ëŠ” ì¼ë¶€ ë°ì´í„°ë§Œ ì›í• ì§€ë¼ë„ ë‹¤ë¥¸ ëª¨ë“  ë°ì´í„°ë„ ì‘ë‹µìœ¼ë¡œ ë°›ê¸° ë•Œë¬¸ì— ìžì›ì†Œëª¨ê°€ í½ë‹ˆë‹¤. AJAXëž€ ì´ëŸ¬í•œ ë¬¸ì œë¥¼ í•´ê²°í•˜ê³ ìž XMLHttpRequest ê°ì²´ë¥¼ í†µí•´ ê¸°ì¡´ ì—°ê²°(í˜„ìž¬ íŽ˜ì´ì§€)ë¥¼ ìœ ì§€í•œì±„ë¡œ ì„œë²„ì™€ í†µì‹ í•˜ëŠ” ê¸°ìˆ ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.

ðŸ“” **ì°¸ê³ ìžë£Œ :** [https://developer.mozilla.org/ko/docs/Web/Guide/AJAX/Getting_Started](https://developer.mozilla.org/ko/docs/Web/Guide/AJAX/Getting_Started)

ðŸ“” **ì°¸ê³ ìžë£Œ** : [https://velog.io/@surim014/AJAXëž€-ë¬´ì—‡ì¸ê°€](https://velog.io/@surim014/AJAX%EB%9E%80-%EB%AC%B4%EC%97%87%EC%9D%B8%EA%B0%80)

### AJAX ë§Œë“¤ê¸°

AJAX í†µì‹ ì„ ìœ„í•´ XMLHttpRequestê°€ í•„ìš”í•©ë‹ˆë‹¤.

- **XMLHttpRequest**

ì„œë²„ì™€ ìƒí˜¸ìž‘ìš©í•  ìˆ˜ ìžˆëŠ” ê°ì²´ìž…ë‹ˆë‹¤. XMLHttpRequest ê°ì²´ë¥¼ í†µí•´ ì „ì²´ íŽ˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•˜ì§€ ì•Šì•„ë„ URLë¡œë¶€í„° ì„œë²„ì˜ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìžˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ì‚¬ìš©ìžì˜ íŽ˜ì´ì§€ ì‚¬ìš©ì„ ë°©í•´í•˜ì§€ ì•Šìœ¼ë©´ì„œ í˜„ìž¬ íŽ˜ì´ì§€ì˜ ì¼ë¶€ë¥¼ ì—…ë°ì´íŠ¸ í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

ðŸ“” **ì°¸ê³ ìžë£Œ** : [https://developer.mozilla.org/ko/docs/Web/API/XMLHttpRequest](https://developer.mozilla.org/ko/docs/Web/API/XMLHttpRequest)

```jsx
const xhr = new XLMHttpRequest();
```

- **onreadystatechange**

readystateê°€ ë°”ë€Œë©´ ì½œë°±ì„ ì‹¤í–‰ì‹œí‚µë‹ˆë‹¤. ë”°ë¼ì„œ, readystateì— ë”°ë¥¸ ìž‘ì—…ì„ ì²˜ë¦¬í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

ðŸ˜º ì½œë°±ì€ ë‹¨ì§€ readystateê°€ ë°”ë€Œë©´ ì‹¤í–‰ë˜ê¸° ë•Œë¬¸ì—, ì¸ìžê°€ ì—†ìŠµë‹ˆë‹¤.

ðŸ“” **ì°¸ê³ ìžë£Œ** : [https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/onreadystatechange](https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/onreadystatechange)

```jsx
const xhr = new XLMHttpRequest();
xhr.onreadystatechange = () => {
  console.log('ready state change')
}
```

- **readystate**

readystateëŠ” XMLHttpRequest ìƒíƒœë¥¼ ë³´ì—¬ì£¼ë©°, ë‹¤ìŒì€ readystateì˜ ìƒíƒœë“¤ì„ ë³´ì—¬ì¤ë‹ˆë‹¤.

- ðŸ”Ž readystate ìƒíƒœ

```jsx
const xhr = new XLMHttpRequest();
const xhrReadyState = xhr.readystate;
```

```jsx
$ajaxButton.addEventListener("click", () => {
  const xhr = new XMLHttpRequest();

  xhr.onreadystatechange = () => {
    console.log("AJAX Response Success");
    console.log(xhr.responseText);
    console.log(xhr.responseXML);
    console.log(xhr.status, xhr.statusText);
  };

  xhr.open("GET", "http://localhost:3000/login");
  xhr.send();
});
```

### Fetch

XMLHttpRequest ê°ì²´ë¥¼ í†µí•´ AJAX í†µì‹ ì„ í•˜ë©´ ì½”ë“œê°€ ë³µìž¡í•´ì§‘ë‹ˆë‹¤. ë”°ë¼ì„œ ì´ë¥¼ í•´ê²°í•˜ê³ ìž ES6ë¶€í„° Fetch APIê°€ ë§Œë“¤ì–´ì¡ŒìŠµë‹ˆë‹¤. Fetch APIì— ìš”ì²­ url, ìš”ì²­ ë°ì´í„°, ìš”ì²­í™˜ê²½ ë“±ì„ ì„¤ì •í•˜ì—¬ ì„œë²„ì— ìš”ì²­ì„ ë³´ë‚´ë©´, ì„œë²„ëŠ” reponse(promise)ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤. ë°›ì€ responseë¥¼ arrayBuffer / blob / json / test / formDataë¥¼ í†µí•´ bodyë¥¼ parsingí•´ì•¼í•˜ë©° ì´ë“¤ì€ promiseë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤. ì•„ëž˜ëŠ” ì´ì— ëŒ€í•œ ì˜ˆì œì½”ë“œìž…ë‹ˆë‹¤.

ðŸ“” **ì°¸ê³ ìžë£Œ :** [https://developer.mozilla.org/ko/docs/Web/API/Fetch_API/Using_Fetch](https://developer.mozilla.org/ko/docs/Web/API/Fetch_API/Using_Fetch)

ðŸ“” **ì°¸ê³ ìžë£Œ** : [https://junhobaik.github.io/ajax-xhr-fetch/](https://junhobaik.github.io/ajax-xhr-fetch/)

ðŸ“” **ì°¸ê³ ìžë£Œ(response ê°ì²´)** : [https://developer.mozilla.org/en-US/docs/Web/API/Response](https://developer.mozilla.org/en-US/docs/Web/API/Response)

- **ðŸ”Ž Fetch ì˜ˆì œì½”ë“œ**
    - **then ì²´ì´ë‹**

    ```jsx
    fetch('https://study.com/home', {
      method: 'POST',
      body: JSON.stringify({a: 'nodejs'}),
      headers:{
        'Content-Type': 'application/json'
      }
    }).then(response => response.json())
    .then(data => ...)
    .catch(err => ...);
    ```

    - **async / await**

    ```jsx
    const response = await fetch('https://study.com/home', {
      method: 'POST',
      body: JSON.stringify({a: 'nodejs'}),
      headers:{
        'Content-Type': 'application/json'
      }
    }).

    const data = await response.json();
    ```

### AXIOS

AJAX í†µì‹ ì„ ìœ„í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ìž…ë‹ˆë‹¤. `npm install axios`ë¡œ ì„¤ì¹˜í•˜ë©° `require('axios')`ë¡œ ê°€ì ¸ì˜µë‹ˆë‹¤. AXIOSëŠ” Fetchì™€ ìœ ì‚¬í•˜ì§€ë§Œ, ì‘ë‹µì‹œê°„ ì´ˆê³¼, ìš”ì²­ ì·¨ì†Œ ë“±ì„ ë‹¤ë£° ìˆ˜ ìžˆë‹¤ëŠ” ì ì—ì„œ Fetch ë³´ë‹¤ AJAXë¥¼ ìžìœ ë¡­ê²Œ ë‹¤ë£° ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

ðŸ“” **ì°¸ê³ ìžë£Œ** : [https://www.npmjs.com/package/axios](https://www.npmjs.com/package/axios)

- **ðŸ”Ž AXIOS ì˜ˆì œì½”ë“œ**
    - **then ì²´ì´ë‹**

    ```jsx
    axios(
      url: 'https://study.com/home',
      method: 'POST',
      headers:{
        'Content-Type': 'application/json'
      },
      data: {a: 'nodejs'},
    }).then(response => ...)
    .catch(err => ...);
    ```

    - **async / await**

    ```jsx
    const response = await axios(
      url: 'https://study.com/home',
      method: 'POST',
      headers:{
        'Content-Type': 'application/json'
      },
      data: {a: 'nodejs'},
    })
    ```
