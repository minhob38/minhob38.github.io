---
title: "CORS"
categories:
  - programming
date: 2021-06-14 01:00:00 +0900
last_modified_at: 2021-06-14 01:00:00 +0900
---

## CORS / PROXY
CORS(Cross Origin Resource Sharing)은 다른 Origin끼리 요청/응답을 주고받는 것을 의미합니다. 하지만 브라우저는 보안을 위해 Origin이 다를 경우, 서버에서 클라이언트로 가는 응답을 막아 버립니다. 따라서 다른 origin에게 응답을 보내기 위해선, 브라우저에게 허용된 응답이라는 것을 알려주어야 합니다. 이는 헤더에 Access-Control-ALlow-Origin을 설정하여 CORS를 할 수 있습니다.

😺 origin : [scheme] [hostname] [port]

😺 서버에 요청을 들어오지만, 다른 origin이면 브라우저가 서버의 응답을 막습니다.

**📔 참고자료 :** [https://developer.mozilla.org/ko/docs/Web/HTTP/CORS](https://developer.mozilla.org/ko/docs/Web/HTTP/CORS)

```jsx
app.get((req, res, next) => {
  res.set('Access-Control-Allow-Origin', "*");
});

app.get((req, res, next) => {
  res.set('Access-Control-Allow-Origin', "http://localhost:3000");
});
```

Express에서 CORS 미들웨어를 통해 CORS를 다룰 수 있습니다. `npm install cors`를 통해 설치하며 `require('cors')`로 가져옵니다.

📔 **참고자료 :** [https://www.npmjs.com/package/cors](https://www.npmjs.com/package/cors)

```js
const cors = require('cors');
app.use(cors());
```






https://velog.io/@tw4204/React-%EA%B0%9C%EB%B0%9C%ED%99%98%EA%B2%BD%EC%97%90%EC%84%9C%EC%9D%98-CORS%EB%A5%BC-%EC%9C%84%ED%95%9C-proxy-%EC%84%A4%EC%A0%95



nginx proxy
http://miconblog.com/archives/1915
nginx 설정값
https://developer88.tistory.com/299

react proxy
https://ssungkang.tistory.com/entry/react-react-create-app%EC%9D%98-Proxy

gcp
ssh-keygen -t rsa -f ~/.ssh/[KEY_FILE_NAME] -C [USERNAME]

ssh-keygen -t rsa -f ~/.ssh/key -C minhob38@gmail.com

react proxy
https://react.vlpt.us/redux-middleware/09-cors-and-proxy.html



# 네트워크 http로 옮기자.
웹소켓 nginx 프록싱 http://nginx.org/en/docs/http/websocket.html

https://www.zerocho.com/category/HTTP/post/5b3ba2d0b3dabd001b53b9db

## header
https://developer.mozilla.org/ko/docs/Web/HTTP/Headers

### 종단간 헤더 / 홉간 헤더


**\- x-forwarded-for**
http proxy나 loadbalancer를 통하기 전의 클라이언트의 원ip 주소입니다.
https://developer.mozilla.org/ko/docs/Web/HTTP/Headers/X-Forwarded-For


**\- host**
서버(요청받는)의 주소입니다.
https://developer.mozilla.org/ko/docs/Web/HTTP/Headers/Host

**\- upgrade**
http 1.1의 header로 변환할 프로토콜을 정의합니다. (http -> https, http -> websocket)
https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Upgrade

**\- connection**
현재 전송이 완료된 후, 네트워크 접속을 유지할지를 제어합니다.
https://developer.mozilla.org/ko/docs/Web/HTTP/Headers/Connection

