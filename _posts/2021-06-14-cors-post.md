---
title: "CORS"
categories:
  - programming
date: 2021-06-14 01:00:00 +0900
last_modified_at: 2021-06-14 01:00:00 +0900
---

## CORS / PROXY
CORS(Cross Origin Resource Sharing)ì€ ë‹¤ë¥¸ Originë¼ë¦¬ ìš”ì²­/ì‘ë‹µì„ ì£¼ê³ ë°›ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ ë¸Œë¼ìš°ì €ëŠ” ë³´ì•ˆì„ ìœ„í•´ Originì´ ë‹¤ë¥¼ ê²½ìš°, ì„œë²„ì—ì„œ í´ë¼ì´ì–¸íŠ¸ë¡œ ê°€ëŠ” ì‘ë‹µì„ ë§‰ì•„ ë²„ë¦½ë‹ˆë‹¤. ë”°ë¼ì„œ ë‹¤ë¥¸ originì—ê²Œ ì‘ë‹µì„ ë³´ë‚´ê¸° ìœ„í•´ì„ , ë¸Œë¼ìš°ì €ì—ê²Œ í—ˆìš©ëœ ì‘ë‹µì´ë¼ëŠ” ê²ƒì„ ì•Œë ¤ì£¼ì–´ì•¼ í•©ë‹ˆë‹¤. ì´ëŠ” í—¤ë”ì— Access-Control-ALlow-Originì„ ì„¤ì •í•˜ì—¬ CORSë¥¼ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ğŸ˜º origin : [scheme] [hostname] [port]

ğŸ˜º ì„œë²„ì— ìš”ì²­ì„ ë“¤ì–´ì˜¤ì§€ë§Œ, ë‹¤ë¥¸ originì´ë©´ ë¸Œë¼ìš°ì €ê°€ ì„œë²„ì˜ ì‘ë‹µì„ ë§‰ìŠµë‹ˆë‹¤.

**ğŸ“” ì°¸ê³ ìë£Œ :** [https://developer.mozilla.org/ko/docs/Web/HTTP/CORS](https://developer.mozilla.org/ko/docs/Web/HTTP/CORS)

```jsx
app.get((req, res, next) => {
  res.set('Access-Control-Allow-Origin', "*");
});

app.get((req, res, next) => {
  res.set('Access-Control-Allow-Origin', "http://localhost:3000");
});
```

Expressì—ì„œ CORS ë¯¸ë“¤ì›¨ì–´ë¥¼ í†µí•´ CORSë¥¼ ë‹¤ë£° ìˆ˜ ìˆìŠµë‹ˆë‹¤. `npm install cors`ë¥¼ í†µí•´ ì„¤ì¹˜í•˜ë©° `require('cors')`ë¡œ ê°€ì ¸ì˜µë‹ˆë‹¤.

ğŸ“” **ì°¸ê³ ìë£Œ :** [https://www.npmjs.com/package/cors](https://www.npmjs.com/package/cors)

```js
const cors = require('cors');
app.use(cors());
```






https://velog.io/@tw4204/React-%EA%B0%9C%EB%B0%9C%ED%99%98%EA%B2%BD%EC%97%90%EC%84%9C%EC%9D%98-CORS%EB%A5%BC-%EC%9C%84%ED%95%9C-proxy-%EC%84%A4%EC%A0%95



nginx proxy
http://miconblog.com/archives/1915
nginx ì„¤ì •ê°’
https://developer88.tistory.com/299

react proxy
https://ssungkang.tistory.com/entry/react-react-create-app%EC%9D%98-Proxy

gcp
ssh-keygen -t rsa -f ~/.ssh/[KEY_FILE_NAME] -C [USERNAME]

ssh-keygen -t rsa -f ~/.ssh/key -C minhob38@gmail.com

react proxy
https://react.vlpt.us/redux-middleware/09-cors-and-proxy.html



# ë„¤íŠ¸ì›Œí¬ httpë¡œ ì˜®ê¸°ì.
ì›¹ì†Œì¼“ nginx í”„ë¡ì‹± http://nginx.org/en/docs/http/websocket.html

https://www.zerocho.com/category/HTTP/post/5b3ba2d0b3dabd001b53b9db

## header
https://developer.mozilla.org/ko/docs/Web/HTTP/Headers

### ì¢…ë‹¨ê°„ í—¤ë” / í™‰ê°„ í—¤ë”


**\- x-forwarded-for**
http proxyë‚˜ loadbalancerë¥¼ í†µí•˜ê¸° ì „ì˜ í´ë¼ì´ì–¸íŠ¸ì˜ ì›ip ì£¼ì†Œì…ë‹ˆë‹¤.
https://developer.mozilla.org/ko/docs/Web/HTTP/Headers/X-Forwarded-For


**\- host**
ì„œë²„(ìš”ì²­ë°›ëŠ”)ì˜ ì£¼ì†Œì…ë‹ˆë‹¤.
https://developer.mozilla.org/ko/docs/Web/HTTP/Headers/Host

**\- upgrade**
http 1.1ì˜ headerë¡œ ë³€í™˜í•  í”„ë¡œí† ì½œì„ ì •ì˜í•©ë‹ˆë‹¤. (http -> https, http -> websocket)
https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Upgrade

**\- connection**
í˜„ì¬ ì „ì†¡ì´ ì™„ë£Œëœ í›„, ë„¤íŠ¸ì›Œí¬ ì ‘ì†ì„ ìœ ì§€í• ì§€ë¥¼ ì œì–´í•©ë‹ˆë‹¤.
https://developer.mozilla.org/ko/docs/Web/HTTP/Headers/Connection

