---
title: "Jest"
categories: 
  - programming
date: 2021-07-20 01:00:00 +0900
last_modified_at: 2021-07-20 01:00:00 +0900
---

# Jest
JestëŠ” JavaScript Frameworkì…ë‹ˆë‹¤.

[ğŸ” Mochaì™€ ë¹„êµ]()

## í™˜ê²½ì„¤ì •

### â€¢ ì„¤ì¹˜
`npm install --save-dev jest` ë˜ëŠ” `yarn add --dev jest`ë¥¼ í†µí•´ ì„¤ì¹˜í•©ë‹ˆë‹¤.

### â€¢ ì‹¤í–‰
ì „ì—­ìœ¼ë¡œ ì„¤ì¹˜í–ˆë‹¤ë©´ `jest [test file]`, íŒ¨í‚¤ì§€ì— ì„¤ì¹˜í–ˆë‹¤ë©´ `package.json scriptì˜ testë¥¼ ìˆ˜ì •í•˜ì—¬` `npm run test`ë¡œ ì‹¤í–‰í•©ë‹ˆë‹¤.

### â€¢ ì„¤ì •
**\- jest.config.js**
```
  testEnvironment: "node",
  setupFilesAfterEnv: ["./jest.setup.js"],
  transform: {
    '^.+\\.js?$': 'babel-jest',
    '^.+\\.ts?$': 'ts-jest'
  }
```
[testEnvironment](https://jestjs.io/docs/configuration#testenvironment-string)ë¡œ test í™˜ê²½ì„ ì •ì˜í•©ë‹ˆë‹¤.  
[setupfilesAferEnv](https://jestjs.io/docs/configuration#setupfilesafterenv-array)ë¡œ ëª¨ë“  test fileì˜ ì‹¤í–‰ í™˜ê²½ì„ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
[moduleFileExtensions](https://jestjs.io/docs/configuration#modulefileextensions-arraystring)ë¡œ module íŒŒì¼ì„ ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
[testMatch](https://jestjs.io/docs/configuration#testmatch-arraystring)ë¡œ testí•  íŒŒì¼ë“¤ì„ ì •ì˜í•©ë‹ˆë‹¤.  
[transfrom](https://jestjs.io/docs/configuration#transform-objectstring-pathtotransformer--pathtotransformer-object)ìœ¼ë¡œ nodejsê°€ ì½ì„ ìˆ˜ ìˆëŠ” í˜•íƒœë¡œ Complie/Transpile ì„¤ì •ì„ ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
[transformIgnorePattern](https://jestjs.io/docs/configuration#transformignorepatterns-arraystring)ë¡œ Complie/Transpile í•˜ì§€ ì•Šì„ íŒŒì¼ë“¤ì„ ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## Test í•¨ìˆ˜
### â€¢ describe
test suiteë¥¼ ì •ì˜í•©ë‹ˆë‹¤.

### â€¢ test (it)
test caseë¥¼ ì •ì˜í•©ë‹ˆë‹¤.

```js
describe("test suite", () => {
  test("test case", () => {
    // To Do
  });
  it("test case", () => {
    // To Do
  });
})
```
ğŸ” x, skip, onlyë¥¼ í†µí•´ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ì—¬ë¶€ë¥¼ ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ë¹„êµ í•¨ìˆ˜
### â€¢ ê³µí†µ
**\- toEqual** : ì°¸ì¡° ìë£Œí˜•(ê°ì²´, ë°°ì—´)ì„ ë¹„êµí•©ë‹ˆë‹¤.
**\- toBe** : ì›ì‹œ ìë£Œí˜•ì„ ë¹„êµí•©ë‹ˆë‹¤.

### â€¢ ì°¸/ê±°ì§“
**\- toBeNull** : Nullì¸ì§€ ë¹„êµí•©ë‹ˆë‹¤.

### â€¢ ìˆ«ì
**\- toBeGreaterThan** : ê¸°ì¤€ë³´ë‹¤ ì´ˆê³¼ì¸ì§€ ë¹„êµí•©ë‹ˆë‹¤.

### â€¢ ë¬¸ìì—´
**\- toContain** : í•´ë‹¹ ë¬¸ìì—´ì„ í¬í•¨í•˜ëŠ”ì§€ ë¹„êµí•©ë‹ˆë‹¤.

## Mock Test
### â€¢ jest.fn
[jest.fn](https://jestjs.io/docs/jest-object#jestfnimplementation)ì€ [Mock Function](https://jestjs.io/docs/mock-function-api)ì„ ë§Œë“­ë‹ˆë‹¤. Mock í•¨ìˆ˜ëŠ” ì•„ë˜ APIë“¤ì„ í†µí•´ í•¨ìˆ˜ë¥¼ ëª¨ì‚¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**[\- mockReturnValue](https://jestjs.io/docs/mock-function-api#mockfnmockreturnvaluevalue)** : mock functionì˜ ë°˜í™˜ê°’ì„ ì •ì˜í•©ë‹ˆë‹¤.

**[\- mockRejectedValue](https://jestjs.io/docs/mock-function-api#mockfnmockrejectedvaluevalue)** : rejectí•˜ëŠ” async í•¨ìˆ˜ë¥¼ ì •ì˜í•©ë‹ˆë‹¤.

## Expect Test
expectë¥¼ í†µí•´ assertion testë¥¼ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**[\- toHaveBeenCalled](https://jestjs.io/docs/expect#tohavebeencalled)** : mock functionì´ í˜¸ì¶œë˜ì—ˆëŠ”ì§€ í…ŒìŠ¤íŠ¸ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**[\- toHaveBeenCalledWith](https://jestjs.io/docs/expect#tohavebeencalled)** : mock functionì´ íŠ¹ì • ì¸ìì™€ í•¨ê»˜ í˜¸ì¶œë˜ì—ˆëŠ”ì§€ í…ŒìŠ¤íŠ¸ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

toStrictEqual
toHaveProperty
toMatchObject

jest --watchAll --detectOpenHandles?
https://velog.io/@xortm854/TDD%EB%A5%BC-%EC%A0%81%EC%9A%A9%ED%95%B4%EB%B3%B4%EC%9E%90-2%ED%8E%B8TDD-%EC%84%A4%EC%A0%95ReactTypescript